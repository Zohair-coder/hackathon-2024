<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>College Assistant</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <base href="/">
  <script>
    // Check if the hostname includes 'github.io' which is used in GitHub Pages
    if (window.location.hostname.includes('github.io')) {
      document.querySelector('base').href = '/hackathon-2024/';
    }
  </script>
</head>

<body>
  <nav class="bg-white shadow-md">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">

        <!-- Brand name section -->
        <a href="index.html" class="text-lg font-bold text-gray-800">College Assistant</a>

        <!-- Navigation Links -->
        <div class="flex">
          <a href="index.html"
            class="text-gray-900 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium">Home</a>
          <a href="grading-assistant.html"
            class="text-gray-900 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium">Grading
            Assistant</a>
          <a href="syllabus-summary.html"
            class="text-gray-900 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium">Syllabus
            Summary</a>
          <a href="calendar-sync.html"
            class="text-gray-900 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium">Calendar
            Sync</a>
          <a href="grade-calculator.html"
            class="text-gray-900 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium">Grade
            Calculator</a>
        </div>

        <!-- User Info -->
        <div class="flex items-center">
          <svg class="h-6 w-6 text-gray-800 mr-2" xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
            <path
              d="M304 128a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM49.3 464H398.7c-8.9-63.3-63.3-112-129-112H178.3c-65.7 0-120.1 48.7-129 112zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3z" />
          </svg>
          <span class="text-gray-800 text-sm font-medium">Zohair ul Hasan</span>
        </div>
      </div>
    </div>
  </nav>


  <!-- Prompt Messages Container - Modify the height according to your need -->
  <div class="flex h-[90vh] w-full flex-col">
    <!-- Prompt Messages -->
    <div id="prompt-messages-container"
      class="flex-1 space-y-6 overflow-y-auto rounded-xl bg-slate-200 p-4 text-sm leading-6 text-slate-900 shadow-sm light:bg-slate-900 light:text-slate-300 sm:text-base sm:leading-7">
      <div class="flex items-start">
        <img class="mr-2 h-8 w-8 rounded-full" src="https://dummyimage.com/128x128/363536/ffffff&text=AI" alt="AI" />
        <div class="flex rounded-b-xl rounded-tr-xl bg-slate-50 p-4 light:bg-slate-800 sm:max-w-md md:max-w-2xl">
          <p>Hi there! Feel free to ask me questions about your assignment. I am familiar with the assignment,
            the syllabus, and the lecture slides.</p>
        </div>
      </div>
      <!-- <div
          class="flex min-h-[85px] rounded-b-xl rounded-tl-xl bg-slate-50 p-4 light:bg-slate-800 sm:min-h-0 sm:max-w-md md:max-w-2xl">
          <p>
            I'm not sure what endpoints I need to create. Can you point me in the right direction?
          </p>
        </div> -->
      <div id="ai-response-container" class="flex items-start hidden">
        <img class="mr-2 h-8 w-8 rounded-full" src="https://dummyimage.com/128x128/363536/ffffff&text=AI" alt="AI" />
        <div class="flex rounded-b-xl rounded-tr-xl bg-slate-50 p-4 light:bg-slate-800 sm:max-w-md md:max-w-2xl">
          <p>
            Based on your assignment instructions to build a REST API using Node and Express for managing books and
            authors, the endpoints you should consider implementing are as follows:

            <br />
            <br />

            <strong>POST /books</strong> - This endpoint will handle the creation of new books. It should accept JSON
            containing the necessary book details such as title, author_id, pub_year, and genre, and return the created
            book with its unique ID.

            <br />
            <br />

            <strong>GET /books</strong> - GET /books - This endpoint should retrieve a list of all books, optionally
            supporting query parameters to filter results, such as books published after a certain year.

            <br />
            <br />

            <strong>GET /books/{id}</strong> - This endpoint will fetch a single book by its unique ID. It should return
            the book's details if found.

            <br />
            <br />

            <strong>DELETE /books/{id}</strong> - This endpoint will allow the deletion of a book by its ID. It should
            handle checks to ensure the book exists before deletion.

            <br />
            <br />

            <strong>POST /authors</strong> - Similar to books, this endpoint will handle the creation of new authors.
            The JSON input should include name and bio of the author, and return the newly created author with a unique
            ID.

            <br />
            <br />

            <strong>GET /authors</strong> - This endpoint should return a list of all authors. It can also support
            filtering via query parameters, such as fetching authors by name.

            <br />
            <br />

            <strong>GET /authors/{id}</strong> - This endpoint should fetch details of a specific author by their ID.

            <br />
            <br />

            <strong>DELETE /authors/{id}</strong> - This will handle the deletion of an author. You'll need to decide
            whether an author can be deleted if they still have books linked to them, potentially requiring additional
            logic to either prevent the deletion or also delete the associated books.

            <br />
            <br />

            These endpoints adhere to REST API conventions and should cover the basic functionalities required for your
            application. Each endpoint will need appropriate methods to handle the interaction with your SQLite
            database, ensuring that data is correctly stored and retrieved. Remember to validate input data,
            particularly ensuring that operations like creating a book fail gracefully if the author_id does not
            correspond to a valid author. This setup should give you a good starting point to develop your API and meet
            the objectives of your homework assignment.
          </p>
        </div>
      </div>
    </div>
    <!-- Prompt message input -->
    <form id="chat-input-form" class="mt-2">
      <label for="chat-input" class="sr-only">Enter your prompt</label>
      <div class="relative">
        <button type="button"
          class="absolute inset-y-0 left-0 flex items-center pl-3 text-slate-500 hover:text-blue-600 light:text-slate-400 light:hover:text-blue-600">
          <svg aria-hidden="true" class="h-5 w-5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"
            stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path d="M9 2m0 3a3 3 0 0 1 3 -3h0a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3h0a3 3 0 0 1 -3 -3z"></path>
            <path d="M5 10a7 7 0 0 0 14 0"></path>
            <path d="M8 21l8 0"></path>
            <path d="M12 17l0 4"></path>
          </svg>
          <span class="sr-only">Use voice input</span>
        </button>
        <textarea id="chat-input"
          class="block w-full resize-none rounded-xl border-none bg-slate-200 p-4 pl-10 pr-20 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-600 light:bg-slate-900 light:text-slate-200 light:placeholder-slate-400 light:focus:ring-blue-600 sm:text-base"
          placeholder="Enter your prompt" rows="1" required></textarea>
        <button type="submit"
          class="absolute bottom-2 right-2.5 rounded-lg bg-blue-700 px-4 py-2 text-sm font-medium text-slate-200 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 light:bg-blue-600 light:hover:bg-blue-700 light:focus:ring-blue-800 sm:text-base">
          Send <span class="sr-only">Send message</span>
        </button>
      </div>
    </form>
  </div>
</body>

<script>

  // Function to update the prompt messages with the user's input
  function updatePromptMessages(input) {
    const chatInput = document.getElementById("chat-input");
    const chatInputForm = document.getElementById("chat-input-form");

    // Check if the input is empty
    if (input.trim() === "") {
      return;
    }

    // Create a new prompt message container
    const promptMessageContainer = document.createElement("div");
    promptMessageContainer.classList.add("flex", "flex-row-reverse", "items-start");

    // Create the user's avatar
    const userAvatar = document.createElement("img");
    userAvatar.classList.add("ml-2", "h-8", "w-8", "rounded-full");
    userAvatar.src = "https://dummyimage.com/128x128/354ea1/ffffff&text=ZH";
    userAvatar.alt = "ZH";

    // Create the user's prompt message
    const userPromptMessage = document.createElement("div");
    userPromptMessage.classList.add("flex", "min-h-[85px]", "rounded-b-xl", "rounded-tl-xl", "bg-slate-50", "p-4", "light:bg-slate-800", "sm:min-h-0", "sm:max-w-md", "md:max-w-2xl");
    userPromptMessage.innerHTML = `<p>${input}</p>`;

    // Append the user's avatar and prompt message to the prompt message container
    promptMessageContainer.appendChild(userAvatar);
    promptMessageContainer.appendChild(userPromptMessage);

    // Append the prompt message container to the prompt messages container
    const promptMessagesContainer = document.getElementById("prompt-messages-container");
    promptMessagesContainer.appendChild(promptMessageContainer);

    // Scroll to the bottom of the prompt messages container
    promptMessagesContainer.scrollTop = promptMessagesContainer.scrollHeight;

    // Clear the input field
    chatInput.value = "";
  }

  function addAIResponse() {
    const aiResponseContainer = document.getElementById("ai-response-container").cloneNode(true);
    aiResponseContainer.classList.remove("hidden");
    const promptMessagesContainer = document.getElementById("prompt-messages-container");
    promptMessagesContainer.appendChild(aiResponseContainer);
  }

  document.addEventListener("DOMContentLoaded", function () {
    const chatInputForm = document.getElementById("chat-input-form");
    chatInputForm.addEventListener("submit", function (event) {
      event.preventDefault();
      const submittedText = chatInputForm.elements["chat-input"].value;
      updatePromptMessages(submittedText);
      setTimeout(addAIResponse, 3000);
    });
  });
</script>

</html>